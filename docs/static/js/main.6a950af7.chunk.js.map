{"version":3,"sources":["sounds sync /.wav$","sounds/correct.wav","sounds/tac.wav","sounds/tic.wav","sounds/wrong.wav","utils/spotify.js","components/Login.js","services/httpService.js","components/UserProfile.js","utils/spotifyUrls.js","utils/useFulFunctions.js","contexts/QuestionContext.js","components/Player.js","components/Progress.js","components/Listening.js","components/Answer.js","components/Answers.js","components/CorrectAnswer.js","components/ButtonNextQuestion.js","components/Timer.js","components/Sound.js","components/Question.js","components/Landing.js","contexts/LoginContext.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","loginUrl","process","join","Login","className","src","alt","href","http","axios","create","baseURL","token","localStorage","getItem","defaults","headers","common","Authorization","ChangeToken","interceptors","response","use","error","status","removeItem","window","location","console","log","Promise","reject","UserProfile","useState","user","setUser","getUser","a","get","_user","data","useEffect","Avatar","display_name","images","url","getRandomNumber","min","max","Math","floor","random","QuestionContext","createContext","ProviderQuestion","props","history","useHistory","children","userPlayLists","endPoints","playerRef","useRef","soundRef","tracks","setTracks","answers","setAnswers","isValidated","setIsValidated","question","setQuestion","preview_url","randomTrack","setRandomTrack","getTracks","playLists","items","all","playList","playListId","playListsTracksResponse","_tracks","reduce","totalTracks","trackResponse","playListTrackList","track","filter","getRandomAnswers","randomNumbers","length","randomNumber","includes","push","getRandomNumbers","_answers","number","isCorrect","setIsCorrect","handleValidate","pauseTrack","setTimeout","current","pause","Provider","value","handleNextQuestion","getQuestion","resetQuestions","trackDuration","handleCorrect","correctId","currentId","_isCorrect","sound","soundName","soundsFolder","require","soundObject","forEach","pathName","key","substring","lastIndexOf","default","getSound","play","Player","useContext","controls","ref","autoPlay","type","Progress","setValue","intervalDuration","updateValue","oldValue","interval","setInterval","clearInterval","LinearProgress","variant","Listening","Answer","order","answer","name","artist","artists","validatedClassName","data-id","disabled","onClick","Answers","CorrectAnswer","correctedText","ButtonNextQuestion","to","Timer","remainingTime","setRemainingTime","currentTime","CircularProgress","Sound","Question","Landing","LoginContext","ProviderLogin","isLogged","setIsLogged","tokenKey","getToken","hash","split","initial","item","parts","decodeURIComponent","_token","access_token","setItem","useLayoutEffect","ProtectedRoute","path","Component","component","render","rest","App","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6a950af7.chunk.js","sourcesContent":["var map = {\n\t\"./correct.wav\": 86,\n\t\"./tac.wav\": 87,\n\t\"./tic.wav\": 88,\n\t\"./wrong.wav\": 89\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 85;","export default __webpack_public_path__ + \"static/media/correct.baf02d2f.wav\";","export default __webpack_public_path__ + \"static/media/tac.89a4e37f.wav\";","export default __webpack_public_path__ + \"static/media/tic.515725ec.wav\";","export default __webpack_public_path__ + \"static/media/wrong.4bbcbf38.wav\";","export const authEndpoint = 'https://accounts.spotify.com/authorize';\r\nexport const spotifyLogoUrl =\r\n  'https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg';\r\n\r\nconst redirectUri = process.env.REACT_APP_REDIRECT_URL;\r\n\r\nconst clientId = process.env.REACT_APP_CLIENT_ID;\r\n\r\nconst scopes = [\r\n  'user-read-currently-playing',\r\n  'user-read-recently-played',\r\n  'user-read-playback-state',\r\n  'user-top-read',\r\n  'user-modify-playback-state',\r\n  'playlist-read-private'\r\n];\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n  '%20'\r\n)}&response_type=token&show_dialog=true`;\r\n\r\nexport const getTokenFromResponse = () => {\r\n  return window.location.hash\r\n    .substring(2)\r\n    .split('&')\r\n    .reduce((initial, item) => {\r\n      const parts = item.split('=');\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n      return initial;\r\n    }, {});\r\n};\r\n","import React from 'react';\r\nimport '../stylesheets/login.scss';\r\nimport '../stylesheets/buttons.scss';\r\nimport { loginUrl, spotifyLogoUrl } from '../utils/spotify';\r\n\r\nconst Login = () => {\r\n  return (\r\n    <div className='login'>\r\n      <img src={spotifyLogoUrl} alt='spotify-logo' />\r\n      <a className='button--primary' href={loginUrl}>\r\n        login with spotify\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from 'axios';\r\n\r\nexport const http = axios.create({\r\n  baseURL: 'https://api.spotify.com/v1/'\r\n});\r\n\r\nconst token = localStorage.getItem('TOKEN');\r\nhttp.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n\r\nhttp.ChangeToken = token =>\r\n  (http.defaults.headers.common.Authorization = `Bearer ${token}`);\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('TOKEN');\r\n};\r\nhttp.interceptors.response.use(null, error => {\r\n  if (error.response.status === 401) {\r\n    logout();\r\n    window.location = '/#/login';\r\n  } else {\r\n    console.log('Ocurrió un error');\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport '../stylesheets/user.scss';\r\nimport { http } from '../services/httpService';\r\n\r\nconst UserProfile = () => {\r\n  const [user, setUser] = useState(null);\r\n  const getUser = async () => {\r\n    const { data: _user } = await http.get('/me');\r\n    setUser(_user);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='user'>\r\n      <Avatar\r\n        alt={user?.display_name}\r\n        src={user?.images[0]?.url}\r\n        className='user__avatar'\r\n      />\r\n      <span className='user__name'>{user?.display_name}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nUserProfile.propTypes = {\r\n  user: PropTypes.object\r\n};\r\n\r\nexport default UserProfile;\r\n","const currentUserProfileEndPoint = '/me';\r\nconst userPlayLists = '/me/playlists';\r\nexport const tracksFromPlayList = playListId =>\r\n  `/playlists/${playListId}/tracks`;\r\n\r\nexport default {\r\n  currentUserProfileEndPoint,\r\n  userPlayLists\r\n};\r\n","/**\r\n * getRandomNumber genera un número aleatorio entre dos números dados min y max\r\n * @param {* number} min incluído\r\n * @param {* number} max excluido\r\n * @example getRandomNumber(1,4) puede ser 1, 2 o 3\r\n * @returns number\r\n */\r\nexport const getRandomNumber = (min, max) => {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n};\r\n\r\n/**\r\n * getRandomNumbers genera un array de números aleatorios entre 0 y el max. Tantos números con length\r\n * @param {* number} length longitud del array que se devuelve\r\n * @param {* number } max número máximo .Los números aleatorios serán menores que max\r\n * @example getRandomNumbers(4, 6) [1, 5, 4, 0]\r\n */\r\nexport const getRandomNumbers = (length, max) => {\r\n  const randomNumbers = [];\r\n  while (randomNumbers.length < length) {\r\n    const randomNumber = getRandomNumber(0, max - 1);\r\n    if (!randomNumbers.includes(randomNumbers)) {\r\n      randomNumbers.push(randomNumber);\r\n    }\r\n  }\r\n  return randomNumbers;\r\n};\r\n\r\nexport const getSound = soundName => {\r\n  const soundsFolder = require.context('../sounds', true, /\\.wav$/);\r\n  const soundObject = {};\r\n  soundsFolder.keys().forEach(pathName => {\r\n    const key = pathName.substring(\r\n      pathName.lastIndexOf('/') + 1,\r\n      pathName.lastIndexOf('.')\r\n    );\r\n    soundObject[key] = soundsFolder(pathName).default;\r\n  });\r\n\r\n  return soundObject[soundName];\r\n};\r\n","import React, { useState, createContext, useEffect, useRef } from 'react';\r\nimport { http } from '../services/httpService';\r\nimport endPoints, { tracksFromPlayList } from '../utils/spotifyUrls';\r\nimport {\r\n  getRandomNumber,\r\n  getRandomNumbers,\r\n  getSound\r\n} from '../utils/useFulFunctions';\r\nimport { useHistory } from 'react-router-dom';\r\nexport const QuestionContext = createContext();\r\n\r\nexport const ProviderQuestion = props => {\r\n  const history = useHistory();\r\n  // eslint-disable-next-line react/prop-types\r\n  const { children } = props;\r\n  const { userPlayLists } = endPoints;\r\n  const playerRef = useRef();\r\n  const soundRef = useRef();\r\n  const numberAnswers = 4;\r\n  const trackDuration = 5000;\r\n  const [tracks, setTracks] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [isValidated, setIsValidated] = useState(false);\r\n  const [question, setQuestion] = useState(1);\r\n\r\n  const [randomTrack, setRandomTrack] = useState({\r\n    id: null,\r\n    preview_url: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    getTracks();\r\n  }, []);\r\n\r\n  const getQuestion = () => {\r\n    getRandomAnswers();\r\n    pauseTrack();\r\n  };\r\n\r\n  const getTracks = async () => {\r\n    const {\r\n      data: { items: playLists }\r\n    } = await http.get(userPlayLists);\r\n\r\n    const playListsTracksResponse = await Promise.all(\r\n      playLists.map(async playList => http.get(tracksFromPlayList(playList.id)))\r\n    );\r\n\r\n    const _tracks = playListsTracksResponse.reduce(\r\n      (totalTracks, trackResponse) => {\r\n        const playListTrackList = trackResponse.data.items\r\n          .map(({ track }) => track)\r\n          .filter(track => track.preview_url);\r\n        totalTracks = [...totalTracks, ...playListTrackList];\r\n        return totalTracks;\r\n      },\r\n      []\r\n    );\r\n    setTracks(_tracks);\r\n  };\r\n\r\n  const getRandomAnswers = () => {\r\n    const randomNumbers = getRandomNumbers(numberAnswers, tracks.length);\r\n    const _answers = randomNumbers.map(number => tracks[number]);\r\n    const randomNumber = getRandomNumber(0, 4);\r\n    setRandomTrack(tracks[randomNumbers[randomNumber]]);\r\n    setAnswers(_answers);\r\n  };\r\n\r\n  const [isCorrect, setIsCorrect] = useState(isValidated);\r\n  const handleValidate = e => {\r\n    setIsValidated(true);\r\n  };\r\n\r\n  const pauseTrack = () => {\r\n    setTimeout(() => {\r\n      playerRef.current.pause();\r\n      history.push('/play');\r\n    }, trackDuration);\r\n  };\r\n  const handleNextQuestion = () => {\r\n    setQuestion(question + 1);\r\n  };\r\n\r\n  const resetQuestions = () => {\r\n    setIsValidated(false);\r\n    setIsCorrect(false);\r\n  };\r\n\r\n  const handleCorrect = (correctId, currentId) => {\r\n    handleValidate();\r\n    const _isCorrect = correctId === currentId;\r\n    setIsCorrect(_isCorrect);\r\n    const soundName = _isCorrect ? 'correct' : 'wrong';\r\n    const sound = getSound(soundName);\r\n    soundRef.current.src = sound;\r\n    soundRef.current.play();\r\n  };\r\n\r\n  return (\r\n    <QuestionContext.Provider\r\n      value={{\r\n        tracks,\r\n        randomTrack,\r\n        playerRef,\r\n        answers,\r\n        isValidated,\r\n        handleValidate,\r\n        setIsCorrect,\r\n        isCorrect,\r\n        handleNextQuestion,\r\n        getQuestion,\r\n        resetQuestions,\r\n        trackDuration,\r\n        soundRef,\r\n        handleCorrect\r\n      }}\r\n    >\r\n      {children}\r\n    </QuestionContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport '../stylesheets/player.scss';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst Player = () => {\r\n  const { randomTrack, playerRef } = useContext(QuestionContext);\r\n  return (\r\n    <>\r\n      {randomTrack && (\r\n        <audio controls ref={playerRef} autoPlay className='player'>\r\n          <source src={randomTrack?.preview_url} type='audio/mpeg' />\r\n        </audio>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst Progress = () => {\r\n  const { trackDuration } = useContext(QuestionContext);\r\n  const [value, setValue] = useState(0);\r\n  const intervalDuration = trackDuration / 100;\r\n  const updateValue = () => {\r\n    setValue(oldValue => oldValue + 1);\r\n  };\r\n  useEffect(() => {\r\n    const interval = setInterval(updateValue, intervalDuration);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  return <LinearProgress variant='determinate' value={value} />;\r\n};\r\n\r\nexport default Progress;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\nimport Player from './Player';\r\nimport Progress from './Progress';\r\n\r\nconst Listening = () => {\r\n  const { getQuestion } = useContext(QuestionContext);\r\n  useEffect(getQuestion, []);\r\n  return (\r\n    <div className='listening'>\r\n      <Progress />\r\n      <Player />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Listening;\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst Answer = ({ order, answer }) => {\r\n  const { randomTrack, isValidated, handleCorrect } = useContext(\r\n    QuestionContext\r\n  );\r\n\r\n  const name = answer?.name;\r\n  const artist = answer?.artists.map(artist => artist.name).join(' & ');\r\n  const id = answer?.id;\r\n  const correctId = randomTrack?.id;\r\n  const _isCorrect = correctId === id;\r\n  const correctedClassName = _isCorrect ? 'right' : 'wrong';\r\n  const validatedClassName = isValidated ? correctedClassName : '';\r\n\r\n  return (\r\n    <button\r\n      className={`answer--${order} ${validatedClassName}`}\r\n      data-id={id}\r\n      disabled={isValidated}\r\n      onClick={() => handleCorrect(correctId, id)}\r\n    >\r\n      <span className='answer__text'>{artist}</span>\r\n      <span className='answer__text'>{name}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nAnswer.propTypes = {\r\n  answer: PropTypes.object,\r\n  order: PropTypes.number\r\n};\r\nexport default Answer;\r\n","import React, { useContext } from 'react';\r\nimport Answer from './Answer';\r\nimport '../stylesheets/answers.scss';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst Answers = () => {\r\n  const { answers } = useContext(QuestionContext);\r\n  return (\r\n    <div className='answers'>\r\n      {answers.map((answer, key) => (\r\n        <Answer key={key} order={key + 1} answer={answer} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Answers;\r\n","import React, { useContext } from 'react';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst CorrectAnswer = () => {\r\n  const { isValidated, isCorrect } = useContext(QuestionContext);\r\n  const correctedText = isValidated ? (isCorrect ? 'correct' : 'wrong') : '';\r\n  return <div>{correctedText}</div>;\r\n};\r\n\r\nexport default CorrectAnswer;\r\n","import React, { useContext } from 'react';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheets/buttons.scss';\r\n\r\nconst ButtonNextQuestion = () => {\r\n  const { isValidated, handleNextQuestion } = useContext(QuestionContext);\r\n  return (\r\n    <>\r\n      {isValidated && (\r\n        <Link\r\n          to='/listening'\r\n          className='button--secondary'\r\n          onClick={handleNextQuestion}\r\n        >\r\n          Next\r\n        </Link>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ButtonNextQuestion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport '../stylesheets/timer.scss';\r\n\r\nconst Timer = () => {\r\n  const [remainingTime, setRemainingTime] = useState(10);\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setRemainingTime(currentTime => {\r\n        if (currentTime > 0) {\r\n          currentTime = currentTime - 1;\r\n          return currentTime;\r\n        } else clearInterval(interval);\r\n      });\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  const value = 100 - remainingTime * 10;\r\n  return (\r\n    <div className='timer'>\r\n      <CircularProgress variant='static' value={value} />\r\n      <span className='timer__text'>{remainingTime}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n","/* eslint-disable react/prop-types */\r\nimport React, { useContext } from 'react';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\n\r\nconst Sound = () => {\r\n  const { soundRef } = useContext(QuestionContext);\r\n  return (\r\n    <audio ref={soundRef}>\r\n      <source type='audio/mpeg' />\r\n    </audio>\r\n  );\r\n};\r\n\r\nexport default Sound;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport Answers from './Answers';\r\nimport CorrectAnswer from './CorrectAnswer';\r\nimport ButtonNextQuestion from './ButtonNextQuestion';\r\nimport { QuestionContext } from '../contexts/QuestionContext';\r\nimport Timer from './Timer';\r\nimport Sound from './Sound';\r\n\r\nconst Question = () => {\r\n  const { resetQuestions } = useContext(QuestionContext);\r\n\r\n  useEffect(() => {\r\n    return () => resetQuestions();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='question'>\r\n      <Timer />\r\n      <Answers />\r\n      <Sound />\r\n      <CorrectAnswer />\r\n      <ButtonNextQuestion />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Question;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheets/buttons.scss';\r\n\r\nconst Landing = () => {\r\n  return (\r\n    <div className='landing'>\r\n      <Link className='button--primary' to='/listening'>\r\n        Play\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, { createContext, useLayoutEffect, useState } from 'react';\r\nimport { http } from '../services/httpService';\r\nimport { getTokenFromResponse } from '../utils/spotify';\r\n\r\nexport const LoginContext = createContext();\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport const ProviderLogin = ({ children }) => {\r\n  const [isLogged, setIsLogged] = useState(false);\r\n  const tokenKey = 'TOKEN';\r\n  const getToken = async () => {\r\n    const { access_token: _token } = getTokenFromResponse();\r\n    window.location.hash = '';\r\n    if (_token) {\r\n      localStorage.setItem(tokenKey, _token);\r\n      http.ChangeToken(_token);\r\n      setIsLogged(true);\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const token = localStorage.getItem(tokenKey);\r\n    const _isLogged = !!token;\r\n    setIsLogged(_isLogged);\r\n    getToken();\r\n  }, []);\r\n\r\n  return (\r\n    <LoginContext.Provider value={{ isLogged }}>\r\n      {children}\r\n    </LoginContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { LoginContext } from '../contexts/LoginContext';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\r\n  const { isLogged } = useContext(LoginContext);\r\n  const redirect = process.env.REACT_APP_REDIRECT_LOGIN;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      path={path}\r\n      render={props => {\r\n        if (!isLogged) return <Redirect to={redirect} />;\r\n        return Component ? <Component {...props} /> : render(props);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport Login from './Login';\r\nimport '../stylesheets/app.scss';\r\nimport UserProfile from './UserProfile';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport { ProviderQuestion } from '../contexts/QuestionContext';\r\nimport Listening from './Listening';\r\nimport Question from './Question';\r\nimport Landing from './Landing';\r\nimport { ProviderLogin } from '../contexts/LoginContext';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className='app'>\r\n      <header className='header'>\r\n        <UserProfile />\r\n      </header>\r\n      <main className='main'>\r\n        <ProviderLogin>\r\n          <HashRouter>\r\n            <Route path='/login' component={Login} />\r\n            <ProviderQuestion>\r\n              <ProtectedRoute path='/listening' component={Listening} />\r\n              <ProtectedRoute path='/play' component={Question} />\r\n              <ProtectedRoute exact path='/' component={Landing} />\r\n            </ProviderQuestion>\r\n          </HashRouter>\r\n        </ProviderLogin>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}